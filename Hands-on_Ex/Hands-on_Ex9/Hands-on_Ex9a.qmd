---
title: "Hands-on Ex9a"
author: "Jayexx"
date: "June 13, 2024"
date-modified: "last-modified"
execute: 
  eval: true
  echo: true
  warning: false
  freeze: true
---

# Creating Ternary Plot with R

## Overview

Ternary plots are a way of displaying the distribution and variability of three-part compositional data. (For example, the proportion of aged, economy active and young population or sand, silt, and clay in soil.) It’s display is a triangle with sides scaled from 0 to 1. Each side represents one of the three components. A point is plotted so that a line drawn perpendicular from the point to each leg of the triangle intersect at the component values of the point.

The key learning objective of this hands-on exercise is to build ternary plot programmatically using R for visualising and analysing population structure of Singapore..

The hands-on exercise consists of 4 steps:

-   Install and launch tidyverse and ggtern packages.
-   Derive 3 new measures using mutate() function of dplyr package.
-   Build a static ternary plot using ggtern() function of ggtern package.
-   Build an interactive ternary plot using plot-ly() function of Plotly R package.

## Getting Started

For this exercise, two main R packages will be used in this hands-on exercise, they are:

-   ggtern, a ggplot extension specially designed to plot ternary diagrams. The package will be used to plot static ternary plots.
-   Plotly R, an R package for creating interactive web-based graphs via plotly’s JavaScript graphing library, plotly.js . The plotly R libary contains the ggplotly function, which will convert ggplot2 figures into a Plotly object.

Selected tidyverse family packages namely: readr, dplyr and tidyr also needs to be installed and loaded.

In this exercise, version 3.2.1 of ggplot2 will be installed instead of the latest version of ggplot2. This is because the current version of ggtern package is not compatible to the latest version of ggplot2.

The code chunks below will accomplish the task.

```{r}
pacman:: p_load(plotly, ggtern, tidyverse)
```

## Data Preparation

### The data

For the purpose of this hands-on exercise, the Singapore Residents by Planning AreaSubzone, Age Group, Sex and Type of Dwelling, June 2000-2018 data will be used. The data set has been downloaded and included in the data sub-folder of the hands-on exercise folder. It is called respopagsex2000to2018_tidy.csv and is in csv file format.

### Importing Data

To import respopagsex2000to2018_tidy.csv into R, read_csv() function of readr package will be used.

```{r}
#Reading the data into R environment
pop_data <- read_csv("data/respopagsex2000to2018_tidy.csv") 
```

